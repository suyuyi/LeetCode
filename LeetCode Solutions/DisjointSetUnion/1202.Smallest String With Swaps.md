[1202.Smallest String With Swaps](https://leetcode-cn.com/problems/smallest-string-with-swaps/)  
本题是第一次用并查集，比较有纪念意义，感觉这个结构很有意思
```java
class Solution {
    class UnionFindSet{
        int[] parent,rank;

        public int find(int x){
            if(parent[x]!=x)
                parent[x] = find(parent[x]);
            return parent[x];
        }

        public void union(int x,int y){
            x= find(x);y=find(y);
            if(x==y) return;
            else{
                if(rank[y]>rank[x]) parent[x]=y;
                else{
                    parent[y] = x;
                    if(rank[x]==rank[y]) rank[x]++;
                }
            }
        }

        public UnionFindSet(int n){
            parent = new int[n];
            for(int i = 0;i<n;++i) parent[i]=i;
            rank = new int[n];
        }

        public Map<Integer,Set<Integer>> process(){
            Map<Integer,Set<Integer>> res = new HashMap<>();
            for(int i=0;i< parent.length;++i){
                int _parent = find(i);
                if(i == _parent) continue;
                Set<Integer> cnt = res.getOrDefault(_parent,new HashSet<>());
                cnt.add(i);
                res.put(_parent,cnt);
            }
            for(int key:res.keySet()){
                Set<Integer> cnt = res.get(key);
                cnt.add(key);
                res.put(key,cnt);
            }
            return res;
        }
    }
    public String smallestStringWithSwaps(String s, List<List<Integer>> pairs) {
        // 0. init
        UnionFindSet unionFindSet = new UnionFindSet(s.length());
        StringBuffer stringBuffer = new StringBuffer(s);
        // 1. union - find
        for(List<Integer> list:pairs)
            unionFindSet.union(list.get(0), list.get(1));
        Map<Integer,Set<Integer>> seq = unionFindSet.process();
        // 2. sort
        for(Integer key:seq.keySet()){
            Integer[] arr = seq.get(key).toArray(new Integer[0]);
            Arrays.sort(arr);
            Character[] cs = new Character[arr.length];
            for(int i=0;i<arr.length;++i)
                cs[i] = s.charAt(arr[i]);
            Arrays.sort(cs);
            for(int i=0;i<arr.length;++i)
                stringBuffer.setCharAt(arr[i],cs[i]);
        }
        return stringBuffer.toString();
    }
}
```
